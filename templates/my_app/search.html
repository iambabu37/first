{% extends "my_app/base.html"%}
{% load static %}
{% block index %}

<style>
	/* Custom CSS for dynamic pill styling */
	.dynamic-pill:hover {
		background-color: #007bff;
		/* Change the background color on hover to the primary color */
		color: #fff;
		/* Change the text color on hover to white */
	}
</style>



<div class="container-fluid mt-5 pt-5">
	<div class="row">
		<div class="col-md-2 ">

			<ul class="nav nav-pills flex-column ">
				<h2 class="h2"> Catogery</h2>
				<hr>
				<div class=" fs-5 text-black">
					<li class="nav-item">
						<a class=" fs-5 nav-link dynamic-pill text-black" aria-current="page" href="#">Active</a>
					</li>
					<li class="nav-item">
						<a class="nav-link dynamic-pill" href="#">Link</a>
					</li>
					<li class="nav-item">
						<a class="nav-link dynamic-pill" href="#">Link</a>
					</li>
					<li class="nav-item">
						<a class="nav-link dynamic-pill" aria-disabled="true">Disabled</a>
					</li>
			</ul>

		</div>

		<div class="col-8">
			<div class="container mx-auto">
				<div class="container">
					<form method="get" action="{% url 'search'%}" class="mt-3">
						<div class="row">
							<div class="col-md-8">
								<!-- Search input -->
								<div class="input-group mb-3">
									<input type="text" style="width: 70%;" class="form-control border-black"
										placeholder="Search Here..." name="main_search" value = {{request.GET.main_search}}>
									<button class="btn btn-primary text-dark fs-4" type="submit">Search</button>
								</div>
							</div>
							<!-- Dropdown for filtering options -->
							<div class="col-md-2">
								<!-- Dropdown for filtering options -->
								<div class="form-group">
									<select
										class="form-control custom-select btn btn-secondary btn-md bg-light text-black"
										id="filter_option" name="filter_option">
										<option value="" selected disabled>Filter By
											&#9660;
										</option>
										<option value="option1">Plant name</option>
										<option value="option2">Family</option>
										<!-- Add more options based on your filtering criteria --> 									</select>
								</div>
							</div>
							<div class="col-md-2">
								<!-- Dropdown for sorting options -->
								<div class="form-group">
									<select
										class="form-control custom-select btn btn-secondary btn-lg bg-light text-black"
										id="sort_by" name="sort_by">
										<option value="" selected disabled>Sort By
											<span class="caret"></span>
										</option>
										<option value="name"> Name</option> <!-- Emoji for the icon -->
										<option value="date">Date</option> <!-- Emoji for the icon -->
										<!-- Add more options based on your database fields -->
									</select>
								</div>
							</div>
						</div>
					</form>

				</div>
			</div>
			{% for dict in dicts %}
			<div class="list-group mt-2 mx-3 border border-black w-75">
				<a href="{% url 'detail' name=dict.name %} " class="list-group-item list-group-item-action " aria-current="true">
					<div class="d-flex w-80 justify-content-between">
						<h5 class="mb-1 text text-primary">{{dict.name}}</h5>
						<small>{{dict.part_used}}</small>
					</div>
					<p class="mb-1">{{dict.description}}</p>
					<small>{{dict.active_compound}}</small>
				</a>
			</div>
			{% endfor %}
			{% if messages %}
			<div class="w-75 alert alert-primary d-flex rounded align-items-center mt-3" role="alert" style="background-color: #3498db; color: #fff;">
					{% for message in messages %}
					<p class="text-center">{{ message }}<p>
					{% endfor %}
			</div>
			{% endif %}
		</div>
		<div class="col-2">
			<h2>i am the index</h2>

		</div>
	</div>
</div>

<script>
	document.addEventListener('DOMContentLoaded', function () {
		// Reset the selected option on page load
		document.getElementById('filter_option').selectedIndex = 0;
		document.getElementById('sort_by').selectedIndex = 0;
	});
</script>
{% endblock index %}